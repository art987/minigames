<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="stylesheet" href="https://peacelove.top/menu.css">
	<link rel="stylesheet" href="style.css">
    <title>名言名句展示</title>
    
</head>


<body>
    <!-- 背景视频 -->
    <video class="background-video" id="background-video" autoplay loop muted></video>
    <!-- 背景图片 -->
    <img class="background-image" id="background-image" alt="background"/>
    
    <!-- 背景音乐 -->
    <audio id="background-music" preload="auto" loop>
        <source id="audio-source" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="container" id="quote-container">
	<button class="sound-toggle-btn" id="sound-toggle-btn"><b>♪</b>开启背景音乐</button>
        <div class="title" id="title"></div>
        <div class="quote-author" id="quote-author"></div>



<button class="theme-btn prev-theme-btn" id="prev-theme-btn">➜</button>
<button class="theme-btn" id="theme-btn">☸ 更多主题</button>
<button class="theme-btn next-theme-btn" id="next-theme-btn">➜</button>
	
    </div>
	
	


    


<script src="quotedata.js"></script>

<script src="script.js"></script>

<script>
    // 动态加载菜单
    async function loadNavbar() {
        try {
            // 1. 先加载menudata.js
            await loadScript('https://peacelove.top/menudata.js');
            
            // 2. 然后加载menu.html
            const response = await fetch('https://peacelove.top/menu.html');
            const navbarHtml = await response.text();

            // 3. 提取HTML中的脚本内容
            const parser = new DOMParser();
            const doc = parser.parseFromString(navbarHtml, 'text/html');
            const scripts = doc.querySelectorAll('script');
            const scriptContent = [];
            
            scripts.forEach(script => {
                scriptContent.push(script.textContent);
                script.remove(); // 移除原脚本
            });

            // 4. 将HTML插入到页面中
            document.getElementById('navbar-container').innerHTML = doc.body.innerHTML;

            // 5. 动态创建并执行脚本
            scriptContent.forEach(content => {
                const script = document.createElement('script');
                script.textContent = content;
                document.body.appendChild(script);
            });
        } catch (error) {
            console.error('加载横栏条时出错：', error);
        }
    }

    // 辅助函数：动态加载JS文件
    function loadScript(url) {
        return new Promise((resolve, reject) => {
            const script = document.createElement('script');
            script.src = url;
            script.onload = resolve;
            script.onerror = reject;
            document.body.appendChild(script);
        });
    }

    // 确保DOM完全加载后再调用loadNavbar
    document.addEventListener('DOMContentLoaded', () => {
        loadNavbar();
    });
</script>
<div id="navbar-container"></div> 
	
	
</body>
</html>
