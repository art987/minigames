<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PeaceLove Menu</title>
    <link rel="stylesheet" href="menu.css">
</head>
<body>
    <div class="navbar" id="navbar">
        <div class="logo">PeaceLove.Top</div>
        <div class="menu-button" onclick="toggleMenu()">
            <span class="menu-icon" id="menu-icon">☰</span>
            <span id="menu-text">菜单</span>
        </div>
    </div>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
    <div class="sidebar" id="sidebar">
        <div class="menu-item" onclick="toggleSubmenu('submenu1')">
            风格 <span class="expand-icon">+</span>
        </div>
        <div class="submenu" id="submenu1">
            <div class="menu-item">购物</div>
            <div class="menu-item">新品上市</div>
            <div class="menu-item">250 美元以下</div>
            <div class="menu-item">办公风格</div>
            <div class="menu-item">编辑愿望清单</div>
            <div class="menu-item">手表</div>
            <div class="menu-item">球鞋</div>
            <div class="menu-item">现在销售</div>
            <div class="menu-item">所有购物</div>
        </div>
        <div class="menu-item" onclick="toggleSubmenu('submenu2')">
            文化 <span class="expand-icon">+</span>
        </div>
        <div class="submenu" id="submenu2">
            <div class="menu-item">美容</div>
            <div class="menu-item">健康</div>
        </div>
        <div class="menu-item" onclick="toggleSubmenu('submenu3')">
            科技 <span class="expand-icon">+</span>
        </div>
        <div class="submenu" id="submenu3">
            <div class="menu-item">最新科技</div>
            <div class="menu-item">科技产品</div>
            <div class="menu-item">科技新闻</div>
        </div>
        <div class="menu-item" onclick="toggleSubmenu('submenu4')">
            旅游 <span class="expand-icon">+</span>
        </div>
        <div class="submenu" id="submenu4">
            <div class="menu-item">热门目的地</div>
            <div class="menu-item">旅行攻略</div>
            <div class="menu-item">酒店预订</div>
        </div>
        <div class="menu-item">GQ 体育</div>
        <div class="menu-item">GQ 盒子</div>
        <div class="menu-item">视频</div>
        <div class="menu-item">更多</div>
        <div class="menu-item">年度最佳男士</div>
        <div class="menu-item">通讯</div>
    </div>
    

    <script>
        let isMenuOpen = false;
        let lastScrollY = window.scrollY;
        const navbar = document.getElementById('navbar');
        const menuText = document.getElementById('menu-text');
        const menuIcon = document.getElementById('menu-icon');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');

        function toggleMenu() {
            sidebar.classList.toggle('open');
            overlay.style.display = isMenuOpen ? 'none' : 'block';
            menuIcon.textContent = isMenuOpen ? '☰' : '✖';
            menuText.textContent = isMenuOpen ? '菜单' : '关闭';
            isMenuOpen = !isMenuOpen;
        }

        function toggleSubmenu(submenuId) {
            const submenu = document.getElementById(submenuId);
            submenu.style.display = submenu.style.display === 'block' ? 'none' : 'block';
        }

        window.addEventListener('scroll', (event) => {
            if (!isMenuOpen) {
                const currentScrollY = window.scrollY;
                if (currentScrollY < lastScrollY) {
                    navbar.classList.remove('hidden');
                } else {
                    navbar.classList.add('hidden');
                }
                lastScrollY = currentScrollY;
            }
        });

        overlay.addEventListener('scroll', (event) => {
            event.stopPropagation();
        });
    </script>
</body>
</html>