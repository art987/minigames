<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ•°æ®ç”Ÿæˆå™¨ - çŸ¥è¯†ç‚¹å¤‡å¿˜å½•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        textarea, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        textarea:focus, input:focus {
            outline: none;
            border-color: #667eea;
        }
        textarea {
            height: 200px;
            resize: vertical;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .result {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            margin: 10px 0;
        }
        .copy-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .copy-btn:hover {
            background: #38a169;
        }
        .instructions {
            background: #e6f3ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3182ce;
        }
        .instructions h3 {
            margin-top: 0;
            color: #2c5282;
        }
        .instructions ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .instructions li {
            margin: 5px 0;
            color: #4a5568;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¤– AIæ•°æ®ç”Ÿæˆå™¨</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">å°†ä»»æ„æ–‡ç« æˆ–ä¸»é¢˜è‡ªåŠ¨è½¬æ¢ä¸ºç¬¦åˆdata.jsè§„èŒƒçš„ç½‘é¡µæ•°æ®æ–‡ä»¶</p>
        
        <div class="instructions">
            <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
            <ul>
                <li><strong>è¾“å…¥å†…å®¹ï¼š</strong>ç²˜è´´ä½ çš„æ–‡ç« ã€çŸ¥è¯†ç‚¹åˆ—è¡¨æˆ–ä¸»é¢˜æè¿°</li>
                <li><strong>ä¸»é¢˜åç§°ï¼š</strong>è¾“å…¥é¡µé¢çš„ä¸»é¢˜ï¼ˆå¦‚ï¼šPythonç¼–ç¨‹ã€è‹±è¯­è¯­æ³•ç­‰ï¼‰</li>
                <li><strong>åˆ†ç±»æ•°é‡ï¼š</strong>è®¾ç½®è‡ªåŠ¨ç”Ÿæˆçš„åˆ†ç±»æ•°é‡ï¼ˆå»ºè®®8-12ä¸ªï¼‰</li>
                <li><strong>æ¯ç±»æ¡æ•°ï¼š</strong>è®¾ç½®æ¯ä¸ªåˆ†ç±»ä¸‹çš„å†…å®¹æ¡æ•°ï¼ˆå»ºè®®5-10æ¡ï¼‰</li>
                <li><strong>ç‚¹å‡»ç”Ÿæˆï¼š</strong>AIå°†è‡ªåŠ¨åˆ†æå†…å®¹å¹¶ç”Ÿæˆæ ‡å‡†åŒ–çš„data.jsæ–‡ä»¶</li>
            </ul>
        </div>

        <form id="dataForm">
            <div class="form-group">
                <label for="content">ğŸ“ è¾“å…¥å†…å®¹ï¼ˆæ–‡ç« ã€çŸ¥è¯†ç‚¹åˆ—è¡¨æˆ–ä¸»é¢˜æè¿°ï¼‰ï¼š</label>
                <textarea id="content" placeholder="è¯·ç²˜è´´ä½ çš„æ–‡ç« å†…å®¹ã€çŸ¥è¯†ç‚¹åˆ—è¡¨æˆ–ä¸»é¢˜æè¿°...&#10;&#10;ç¤ºä¾‹ï¼š&#10;1. å˜é‡å®šä¹‰ï¼šPythonä¸­å˜é‡çš„å®šä¹‰å’Œå‘½åè§„åˆ™&#10;2. æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰åŸºæœ¬æ•°æ®ç±»å‹&#10;3. è¿ç®—ç¬¦ï¼šç®—æœ¯ã€æ¯”è¾ƒã€é€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨&#10;..."></textarea>
            </div>

            <div class="form-group">
                <label for="themeName">ğŸ¯ ä¸»é¢˜åç§°ï¼š</label>
                <input type="text" id="themeName" placeholder="ä¾‹å¦‚ï¼šPythonç¼–ç¨‹ã€è‹±è¯­è¯­æ³•ã€å†å²çŸ¥è¯†ç­‰" value="Pythonç¼–ç¨‹">
            </div>

            <div class="form-group">
                <label for="categoryCount">ğŸ“Š åˆ†ç±»æ•°é‡ï¼š</label>
                <input type="number" id="categoryCount" value="8" min="4" max="20">
            </div>

            <div class="form-group">
                <label for="itemCount">ğŸ“„ æ¯ç±»æ¡æ•°ï¼š</label>
                <input type="number" id="itemCount" value="6" min="3" max="15">
            </div>

            <button type="button" class="btn" onclick="generateData()">ğŸš€ ç”Ÿæˆæ•°æ®æ–‡ä»¶</button>
        </form>

        <div id="result" class="result" style="display: none;">
            <h3>ğŸ“ ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶</h3>
            <div class="code-block" id="dataCode"></div>
            <button class="copy-btn" onclick="copyToClipboard('dataCode')">ğŸ“‹ å¤åˆ¶æ•°æ®æ–‡ä»¶</button>
            <button class="copy-btn" onclick="downloadFile('data.js', document.getElementById('dataCode').textContent)">ğŸ’¾ ä¸‹è½½æ•°æ®æ–‡ä»¶</button>
        </div>

        <div id="htmlResult" class="result" style="display: none;">
            <h3>ğŸŒ ç”Ÿæˆçš„HTMLæ–‡ä»¶</h3>
            <div class="code-block" id="htmlCode"></div>
            <button class="copy-btn" onclick="copyToClipboard('htmlCode')">ğŸ“‹ å¤åˆ¶HTMLæ–‡ä»¶</button>
            <button class="copy-btn" onclick="downloadFile('index.html', document.getElementById('htmlCode').textContent)">ğŸ’¾ ä¸‹è½½HTMLæ–‡ä»¶</button>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸAIåˆ†æå‡½æ•°ï¼ˆå®é™…åº”ç”¨ä¸­éœ€è¦è°ƒç”¨çœŸå®çš„AI APIï¼‰
        function analyzeContent(content, themeName, categoryCount, itemCount) {
            // è¿™é‡Œæ¨¡æ‹ŸAIåˆ†æè¿‡ç¨‹
            // å®é™…åº”ç”¨ä¸­åº”è¯¥è°ƒç”¨OpenAIã€Claudeæˆ–å…¶ä»–AI API
            
            // æå–å…³é”®è¯
            const keywords = extractKeywords(content, themeName);
            
            // ç”Ÿæˆåˆ†ç±»
            const categories = generateCategories(content, themeName, categoryCount);
            
            // ç”Ÿæˆå†…å®¹
            const contentData = generateContentData(content, categories, itemCount);
            
            return {
                title: {
                    h1: `${themeName}å¤‡å¿˜å½•`,
                    p: `æŒæ¡æ ¸å¿ƒè¦ç‚¹ï¼Œæå‡å­¦ä¹ æ•ˆç‡`
                },
                head: {
                    title: `${themeName}å¤‡å¿˜å½•`,
                    keywords: keywords.slice(0, 6).join(', '),
                    description: `ä¸€ä»½æ¶µç›–${themeName}æ ¸å¿ƒçŸ¥è¯†ç‚¹çš„å¤‡å¿˜å½•ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€ŸæŒæ¡é‡è¦å†…å®¹ã€‚`
                },
                keywords: keywords,
                content: contentData
            };
        }

        function extractKeywords(content, themeName) {
            // ç®€å•çš„å…³é”®è¯æå–é€»è¾‘
            const commonWords = ['çš„', 'äº†', 'åœ¨', 'æ˜¯', 'æˆ‘', 'æœ‰', 'å’Œ', 'å°±', 'ä¸', 'äºº', 'éƒ½', 'ä¸€', 'ä¸€ä¸ª', 'ä¸Š', 'ä¹Ÿ', 'å¾ˆ', 'åˆ°', 'è¯´', 'è¦', 'å»', 'ä½ ', 'ä¼š', 'ç€', 'æ²¡æœ‰', 'çœ‹', 'å¥½', 'è‡ªå·±', 'è¿™'];
            const words = content.replace(/[^\u4e00-\u9fa5a-zA-Z]/g, ' ').split(/\s+/)
                .filter(word => word.length > 1 && !commonWords.includes(word));
            
            const wordCount = {};
            words.forEach(word => {
                wordCount[word] = (wordCount[word] || 0) + 1;
            });
            
            return Object.keys(wordCount)
                .sort((a, b) => wordCount[b] - wordCount[a])
                .slice(0, 10);
        }

        function generateCategories(content, themeName, categoryCount) {
            // æ ¹æ®ä¸»é¢˜å’Œå†…å®¹ç”Ÿæˆåˆ†ç±»
            const categoryTemplates = [
                { icon: 'ğŸ“š', name: 'åŸºç¡€æ¦‚å¿µ', desc: 'æŒæ¡æ ¸å¿ƒåŸºç¡€ï¼Œå¥ å®šå­¦ä¹ æ ¹åŸº' },
                { icon: 'ğŸ”§', name: 'å®ç”¨æŠ€å·§', desc: 'æŒæ¡å®ç”¨æŠ€å·§ï¼Œæå‡åº”ç”¨èƒ½åŠ›' },
                { icon: 'âš ï¸', name: 'å¸¸è§é—®é¢˜', desc: 'äº†è§£å¸¸è§é—®é¢˜ï¼Œé¿å…å¸¸è§é”™è¯¯' },
                { icon: 'ğŸ“–', name: 'è¿›é˜¶å­¦ä¹ ', desc: 'æ·±å…¥å­¦ä¹ è¿›é˜¶ï¼Œæ‹“å±•çŸ¥è¯†è¾¹ç•Œ' },
                { icon: 'ğŸ’¡', name: 'æ ¸å¿ƒè¦ç‚¹', desc: 'æŠ“ä½æ ¸å¿ƒè¦ç‚¹ï¼Œå¿«é€ŸæŒæ¡ç²¾é«“' },
                { icon: 'ğŸ¯', name: 'å®æˆ˜åº”ç”¨', desc: 'ç†è®ºç»“åˆå®è·µï¼Œæå‡å®æˆ˜èƒ½åŠ›' },
                { icon: 'ğŸ”', name: 'æ·±åº¦è§£æ', desc: 'æ·±å…¥åˆ†æç†è§£ï¼ŒæŒæ¡æœ¬è´¨è§„å¾‹' },
                { icon: 'âš¡', name: 'å¿«é€Ÿå…¥é—¨', desc: 'å¿«é€Ÿå…¥é—¨æŒ‡å—ï¼Œè½»æ¾ä¸Šæ‰‹å­¦ä¹ ' },
                { icon: 'ğŸŒŸ', name: 'é‡ç‚¹éš¾ç‚¹', desc: 'æ”»å…‹é‡ç‚¹éš¾ç‚¹ï¼Œçªç ´å­¦ä¹ ç“¶é¢ˆ' },
                { icon: 'ğŸš€', name: 'é«˜çº§æŠ€å·§', desc: 'æŒæ¡é«˜çº§æŠ€å·§ï¼Œæˆä¸ºé¢†åŸŸä¸“å®¶' }
            ];
            
            return categoryTemplates.slice(0, categoryCount);
        }

        function generateContentData(content, categories, itemCount) {
            const contentData = {};
            
            // å°†å†…å®¹æŒ‰è¡Œåˆ†å‰²
            const lines = content.split('\n').filter(line => line.trim());
            
            categories.forEach(category => {
                const items = [];
                
                // ä¸ºæ¯ä¸ªåˆ†ç±»ç”ŸæˆæŒ‡å®šæ•°é‡çš„å†…å®¹
                for (let i = 0; i < itemCount; i++) {
                    const lineIndex = i % lines.length;
                    const line = lines[lineIndex] || `çŸ¥è¯†ç‚¹ ${i + 1}`;
                    
                    // è§£æè¡Œå†…å®¹
                    const parts = line.split(/[ï¼š:]/);
                    const title = parts[0]?.trim() || `è¦ç‚¹ ${i + 1}`;
                    const description = parts[1]?.trim() || `è¿™æ˜¯å…³äº${category.name}çš„é‡è¦çŸ¥è¯†ç‚¹`;
                    
                    // ç”Ÿæˆé“¾æ¥ï¼ˆç¤ºä¾‹ï¼‰
                    const link = `https://example.com/${category.name.toLowerCase()}-${i + 1}`;
                    
                    items.push(`<c> <h4>${title}</h4> <p>${description}</p> <nav>${link}</nav></c>`);
                }
                
                contentData[`${category.icon}${category.name}|${category.icon} ${category.desc}`] = items;
            });
            
            return contentData;
        }

        function generateData() {
            const content = document.getElementById('content').value.trim();
            const themeName = document.getElementById('themeName').value.trim();
            const categoryCount = parseInt(document.getElementById('categoryCount').value);
            const itemCount = parseInt(document.getElementById('itemCount').value);
            
            if (!content || !themeName) {
                alert('è¯·å¡«å†™å†…å®¹ä¸»é¢˜å’Œä¸»é¢˜åç§°ï¼');
                return;
            }
            
            // ç”Ÿæˆæ•°æ®
            const data = analyzeContent(content, themeName, categoryCount, itemCount);
            
            // ç”ŸæˆJavaScriptä»£ç 
            const jsCode = `const data = ${JSON.stringify(data, null, 4)};`;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('dataCode').textContent = jsCode;
            document.getElementById('result').style.display = 'block';
            
            // ç”ŸæˆHTMLæ–‡ä»¶
            const htmlCode = generateHtmlFile(themeName);
            document.getElementById('htmlCode').textContent = htmlCode;
            document.getElementById('htmlResult').style.display = 'block';
        }

        function generateHtmlFile(themeName) {
            const fileName = themeName.toLowerCase().replace(/\s+/g, '-');
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${themeName}å¤‡å¿˜å½•</title>
    <link rel="stylesheet" href="https://peacelove.top/menu.css">
    <link rel="stylesheet" href="styles.css">
	<meta name="keywords" content="">
	<meta name="description" content="">
	
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=tCF5EpUw"></script>
    <script src="data-${fileName}.js" defer></script>
    <script src="script.js" defer></script>
</head>
<body style="background: url(${fileName}-bg.png) no-repeat top center;">
 <div id="navbar-container"></div>

    <div class="title">
        <h1 id="title-h1"></h1>
        <p id="title-p"></p>
    </div>
    <div class="search-container" id="search-container">
        <input type="text" id="search-input" placeholder="è¾“å…¥å…³é”®è¯æœç´¢...">
        <div class="clear-btn" id="clear-search" style="display: none;">X</div>
    </div>
    <div class="marquee">
        <div class="tip">çƒ­æœï¼š</div>
        <div class="keywords" id="keywords-container"></div>
        <button id="show-all-keywords" class="show-all-keywords">âš“ï¸</button>
    </div>
	<div class="tagsbox" >
		<div class="tip" >åˆ†ç±»ï¼š</div> 
		<div class="tags" id="tags-container">
		</div>
		<button id="show-all-tags" class="show-all-tags">â˜¸</button>
	</div>
	<div id="floating-tags-container" class="floating-tags"></div>
    <div class="content" id="content-container"></div>
    <div id="keyword-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal">&times;</span>
            <div id="modal-keywords-container"></div>
        </div>
    </div>
	<button id="auto-scroll-button">â‡¢</button>
	  <button id="back-to-top">â‡ª</button>
	  
<script src="https://peacelove.top/menu-functions.js"></script>
</body>
</html>`;
        }

        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                // å¤‡ç”¨æ–¹æ¡ˆ
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        function downloadFile(filename, content) {
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
